"use strict";

(function () {
  window.load = function (url, onSuccess, onError) {
    var xhr = new XMLHttpRequest();
    xhr.responseType = 'json';
    xhr.addEventListener('load', function (evt) {
      if (xhr.status === 200) {
        onSuccess(xhr.response);
      } else {
        onError("\u0421\u0442\u0430\u0442\u0443\u0441 \u043E\u0442\u0432\u0435\u0442\u0430: ".concat(xhr.status, " ").concat(xhr.statusText));
      }
    });
    xhr.addEventListener('error', function () {
      onError('Произошла ошибка соединения');
    });
    xhr.addEventListener('timeout', function () {
      onError("\u0417\u0430\u043F\u0440\u043E\u0441 \u043D\u0435 \u0443\u0441\u043F\u0435\u043B \u0432\u044B\u043F\u043E\u043B\u043D\u0438\u0442\u044C\u0441\u044F \u0437\u0430 ".concat(xhr.timeout, "\u043C\u0441"));
    });
    xhr.timeout = 10000;
    xhr.open('GET', url, true);
    xhr.send();
  };
})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9hZC5qcyIsIm5hbWVzIjpbIndpbmRvdyIsImxvYWQiLCJ1cmwiLCJvblN1Y2Nlc3MiLCJvbkVycm9yIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJyZXNwb25zZVR5cGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0Iiwic3RhdHVzIiwicmVzcG9uc2UiLCJjb25jYXQiLCJzdGF0dXNUZXh0IiwidGltZW91dCIsIm9wZW4iLCJzZW5kIl0sInNvdXJjZXMiOlsibG9hZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCkge1xuICB3aW5kb3cubG9hZCA9IGZ1bmN0aW9uICh1cmwsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2pzb24nO1xuXG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgIG9uU3VjY2Vzcyh4aHIucmVzcG9uc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb25FcnJvcihg0KHRgtCw0YLRg9GBINC+0YLQstC10YLQsDogJHt4aHIuc3RhdHVzfSAke3hoci5zdGF0dXNUZXh0fWApO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgKCkgPT4ge1xuICAgICAgb25FcnJvcign0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsCDRgdC+0LXQtNC40L3QtdC90LjRjycpO1xuICAgIH0pO1xuXG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWVvdXQnLCAoKSA9PiB7XG4gICAgICBvbkVycm9yKGDQl9Cw0L/RgNC+0YEg0L3QtSDRg9GB0L/QtdC7INCy0YvQv9C+0LvQvdC40YLRjNGB0Y8g0LfQsCAke3hoci50aW1lb3V0fdC80YFgKTtcbiAgICB9KTtcblxuICAgIHhoci50aW1lb3V0ID0gMTAwMDA7XG5cbiAgICB4aHIub3BlbignR0VUJywgdXJsLCB0cnVlKTtcbiAgICB4aHIuc2VuZCgpO1xuICB9XG59KCkpO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFDLGFBQVk7RUFDWEEsTUFBTSxDQUFDQyxJQUFJLEdBQUcsVUFBVUMsR0FBRyxFQUFFQyxTQUFTLEVBQUVDLE9BQU8sRUFBRTtJQUMvQyxJQUFJQyxHQUFHLEdBQUcsSUFBSUMsY0FBYyxFQUFFO0lBQzlCRCxHQUFHLENBQUNFLFlBQVksR0FBRyxNQUFNO0lBRXpCRixHQUFHLENBQUNHLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxVQUFDQyxHQUFHLEVBQUs7TUFDcEMsSUFBSUosR0FBRyxDQUFDSyxNQUFNLEtBQUssR0FBRyxFQUFFO1FBQ3RCUCxTQUFTLENBQUNFLEdBQUcsQ0FBQ00sUUFBUSxDQUFDO01BQ3pCLENBQUMsTUFBTTtRQUNMUCxPQUFPLCtFQUFBUSxNQUFBLENBQW1CUCxHQUFHLENBQUNLLE1BQU0sT0FBQUUsTUFBQSxDQUFJUCxHQUFHLENBQUNRLFVBQVUsRUFBRztNQUMzRDtJQUNGLENBQUMsQ0FBQztJQUVGUixHQUFHLENBQUNHLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxZQUFNO01BQ2xDSixPQUFPLENBQUMsNkJBQTZCLENBQUM7SUFDeEMsQ0FBQyxDQUFDO0lBRUZDLEdBQUcsQ0FBQ0csZ0JBQWdCLENBQUMsU0FBUyxFQUFFLFlBQU07TUFDcENKLE9BQU8scUtBQUFRLE1BQUEsQ0FBbUNQLEdBQUcsQ0FBQ1MsT0FBTyxrQkFBSztJQUM1RCxDQUFDLENBQUM7SUFFRlQsR0FBRyxDQUFDUyxPQUFPLEdBQUcsS0FBSztJQUVuQlQsR0FBRyxDQUFDVSxJQUFJLENBQUMsS0FBSyxFQUFFYixHQUFHLEVBQUUsSUFBSSxDQUFDO0lBQzFCRyxHQUFHLENBQUNXLElBQUksRUFBRTtFQUNaLENBQUM7QUFDSCxDQUFDLEdBQUUifQ==